{
  "hash": "3237ce28f2b181d3fdf22b5457553a50",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"How to cite open data\"\nsubtitle: \"citation...\"\ndate: 2025-04-28\nsummary: \"summary of how to cite\"\nformat:\n  html:\n    toc: true\n    toc-expand: 2\n\ncategories:\n  - citation\n  - findability\n---\n\nCiting an open dataset for a research project is straightforward if it is\narchived in an open research repository like [Zenodo](https://zenodo.org/). In\nthis case it will have the relevant metadata, along with a DOI, to make it\neasily citeable, even if access to these data is restricted. Unfortunately open\ndatasets do not always reside in a repository like Zenodo.\nA common place for open datasets in statistics, and in particular price\nstatistics, is as part of an R package on CRAN. Citing these datasets is not\ndifficult---all CRAN packages have a DOI and are easily cited---but, as part of\na package, data are more difficult to access.\n\n## Example: {PriceIndices}\n\nThe {PriceIndices} R package comes with several datasets that can be useful for\ncomparing different index-number methods. Citing these data is easy because R\npackages are highly citeable.\n\n```\n@Manual{,\n  title = {PriceIndices: Calculating Bilateral and Multilateral Price Indexes},\n  author = {Jacek Bia≈Çek},\n  year = {2025},\n  doi = {10.32614/CRAN.package.PriceIndices},\n  url = {https://cran.r-project.org/package=PriceIndices},\n  note = {R package version 0.2.3}\n}\n```\n\nUsing these data is easy enough with R. Simply install the package and the\ndatasets become available from within R.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(PriceIndices::coffee)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        time prices quantities prodID retID    description\n1 2017-12-01 123.55         13  32308  2183 instant coffee\n2 2017-12-01  56.08         16  51858  2183 instant coffee\n3 2017-12-01  66.90         11  51859  2183 instant coffee\n4 2017-12-01  66.90         10  51860  2183 instant coffee\n5 2017-12-01  34.30         11  51863  2183 instant coffee\n6 2017-12-01 141.20         10  55880  2183 instant coffee\n```\n\n\n:::\n:::\n\n\nUsing these datasets is less convenient with, say, Python. One option is to simply\nexport them in an interoperable format like Apache Parquet from R.\n\n\n::: {.cell}\n\n```{.r .cell-code}\narrow::write_parquet(PriceIndices::coffee, \"coffee.parquet\")\n```\n:::\n\n\nNow it is simple to use these data with Python.\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\n\npd.read_parquet(\"coffee.parquet\").head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         time  prices  quantities  prodID  retID     description\n0  2017-12-01  123.55          13   32308   2183  instant coffee\n1  2017-12-01   56.08          16   51858   2183  instant coffee\n2  2017-12-01   66.90          11   51859   2183  instant coffee\n3  2017-12-01   66.90          10   51860   2183  instant coffee\n4  2017-12-01   34.30          11   51863   2183  instant coffee\n```\n\n\n:::\n:::\n\n\nAnother approach, and one that doesn't use R, is to simply download the {PriceIndices}\npackage from CRAN and use the [{rdata}](https://doi.org/10.21105/joss.07540) Python\npackage to read the datasets in Python.\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncurl -s https://cran.r-project.org/src/contrib/PriceIndices_0.2.3.tar.gz -o PriceIndices_0.2.3.tar.gz\ntar -vxzf PriceIndices_0.2.3.tar.gz PriceIndices/data\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nPriceIndices/data/\nPriceIndices/data/dataU.rda\nPriceIndices/data/milk.rda\nPriceIndices/data/coffee.rda\nPriceIndices/data/data_DOWN_UP_SIZED.rda\nPriceIndices/data/dataAGGR.rda\nPriceIndices/data/sugar.rda\nPriceIndices/data/dataMATCH.rda\nPriceIndices/data/dataCOICOP.rda\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport rdata\nimport pandas as pd\n\n\ndef date_constructor(obj, attr):\n    return pd.to_datetime(obj, unit=\"D\")\n\nconstructor_dict = {**rdata.conversion.DEFAULT_CLASS_MAP,\n                    \"Date\": date_constructor}\n\ncoffee = rdata.read_rda(\"PriceIndices/data/coffee.rda\",\n                        constructor_dict=constructor_dict)\n\npd.DataFrame(coffee[\"coffee\"]).head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        time  prices  quantities  prodID  retID     description\n1 2017-12-01  123.55          13   32308   2183  instant coffee\n2 2017-12-01   56.08          16   51858   2183  instant coffee\n3 2017-12-01   66.90          11   51859   2183  instant coffee\n4 2017-12-01   66.90          10   51860   2183  instant coffee\n5 2017-12-01   34.30          11   51863   2183  instant coffee\n```\n\n\n:::\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}